{"version":3,"file":"confirm-Ch-Sbg4M.js","sources":["../../../src/utils/confirm.ts"],"sourcesContent":["import { defineStore } from \"pinia\";\r\nimport type { ComponentPublicInstance } from \"vue\";\r\nimport type { ConfirmComponentRef } from \"./types\";\r\n\r\nexport interface ConfirmOptions {\r\n  persistent?: boolean\r\n  confirmText?: string\r\n  cancelText?: string\r\n  confirmColor?: string\r\n  cancelColor?: string\r\n}\r\n\r\nexport const useConfirmStore = defineStore(\"confirm\", {\r\n  state: () => ({\r\n    confirmRef: null as ComponentPublicInstance | null,\r\n  }),\r\n  actions: {\r\n    setConfirmRef(ref: ComponentPublicInstance) {\r\n      this.confirmRef = ref;\r\n    },\r\n  },\r\n});\r\n\r\nexport const confirm = {\r\n  show: (\r\n    title: string, \r\n    message: string, \r\n    options?: ConfirmOptions\r\n  ): Promise<boolean> => {\r\n    const store = useConfirmStore();\r\n    const confirmInstance = store.confirmRef as ConfirmComponentRef | null;\r\n\r\n    if (!confirmInstance || !confirmInstance.ConfirmDialog) {\r\n      console.error(\"ConfirmDialog component is not registered\");\r\n      return Promise.resolve(false);\r\n    }\r\n\r\n    return confirmInstance.ConfirmDialog(title, message, options);\r\n  },\r\n};\r\n"],"names":["useConfirmStore","defineStore","ref","confirm","title","message","options","confirmInstance"],"mappings":";AAYO,MAAMA,IAAkBC,EAAY,WAAW;AAAA,EACpD,OAAO,OAAO;AAAA,IACZ,YAAY;AAAA,EAAA;AAAA,EAEd,SAAS;AAAA,IACP,cAAcC,GAA8B;AAC1C,WAAK,aAAaA;AAAA,IACpB;AAAA,EAAA;AAEJ,CAAC,GAEYC,IAAU;AAAA,EACrB,MAAM,CACJC,GACAC,GACAC,MACqB;AAErB,UAAMC,IADQP,EAAA,EACgB;AAE9B,WAAI,CAACO,KAAmB,CAACA,EAAgB,iBACvC,QAAQ,MAAM,2CAA2C,GAClD,QAAQ,QAAQ,EAAK,KAGvBA,EAAgB,cAAcH,GAAOC,GAASC,CAAO;AAAA,EAC9D;AACF;"}