{"version":3,"file":"theme-BByP50vM.js","sources":["../../src/stores/theme.ts"],"sourcesContent":["import { defineStore } from \"pinia\";\r\nimport { ref, computed } from \"vue\";\r\n\r\nexport interface ThemeConfig {\r\n  name: string;\r\n  version: string;\r\n  logo: {\r\n    light: string;\r\n    dark: string;\r\n    favicon: string;\r\n  };\r\n  colors: {\r\n    light: Record<string, string>;\r\n    dark: Record<string, string>;\r\n  };\r\n  fonts: {\r\n    primary: string;\r\n    monospace: string;\r\n  };\r\n  customization: {\r\n    appName: string;\r\n    appDescription: string;\r\n    copyrightText: string;\r\n  };\r\n}\r\n\r\nexport const useThemeStore = defineStore(\"theme\", () => {\r\n  const themeConfig = ref<ThemeConfig | null>(null);\r\n  const isDark = ref(false);\r\n  const isLoading = ref(true);\r\n\r\n  const currentMode = computed(() => (isDark.value ? \"dark\" : \"light\"));\r\n  const currentLogo = computed(\r\n    () => themeConfig.value?.logo[currentMode.value] || \"\"\r\n  );\r\n  const currentColors = computed(\r\n    () => themeConfig.value?.colors[currentMode.value] || {}\r\n  );\r\n  const appName = computed(\r\n    () => themeConfig.value?.customization.appName || \"Vue3 Base\"\r\n  );\r\n\r\n  function loadSavedThemePreference() {\r\n    const savedTheme = localStorage.getItem(\"app-theme\");\r\n    isDark.value = savedTheme === \"dark\";\r\n  }\r\n\r\n  function applyThemeToVuetify() {\r\n    if (!themeConfig.value) return;\r\n\r\n    const html = document.documentElement;\r\n    html.setAttribute(\"data-theme\", currentMode.value);\r\n\r\n    window.dispatchEvent(\r\n      new CustomEvent(\"theme-changed\", {\r\n        detail: {\r\n          mode: currentMode.value,\r\n          colors: currentColors.value,\r\n        },\r\n      })\r\n    );\r\n  }\r\n\r\n  async function loadTheme() {\r\n    try {\r\n      isLoading.value = true;\r\n      const response = await fetch(\"/theme.json\");\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to load theme configuration\");\r\n      }\r\n      themeConfig.value = await response.json();\r\n\r\n      loadSavedThemePreference();\r\n      applyThemeToVuetify();\r\n    } catch (error) {\r\n      console.error(\"Error loading theme:\", error);\r\n    } finally {\r\n      isLoading.value = false;\r\n    }\r\n  }\r\n\r\n  function toggleTheme() {\r\n    isDark.value = !isDark.value;\r\n    localStorage.setItem(\"app-theme\", currentMode.value);\r\n    applyThemeToVuetify();\r\n  }\r\n\r\n  function setTheme(mode: \"light\" | \"dark\") {\r\n    isDark.value = mode === \"dark\";\r\n    localStorage.setItem(\"app-theme\", mode);\r\n    applyThemeToVuetify();\r\n  }\r\n\r\n  function updateThemeColors(colors: Record<string, string>) {\r\n    if (!themeConfig.value) return;\r\n\r\n    themeConfig.value.colors[currentMode.value] = {\r\n      ...themeConfig.value.colors[currentMode.value],\r\n      ...colors,\r\n    };\r\n    applyThemeToVuetify();\r\n  }\r\n\r\n  return {\r\n    themeConfig,\r\n    isDark,\r\n    isLoading,\r\n    currentMode,\r\n    currentLogo,\r\n    currentColors,\r\n    appName,\r\n    loadTheme,\r\n    toggleTheme,\r\n    setTheme,\r\n    updateThemeColors,\r\n  };\r\n});\r\n"],"names":["useThemeStore","defineStore","themeConfig","ref","isDark","isLoading","currentMode","computed","currentLogo","currentColors","appName","loadSavedThemePreference","savedTheme","applyThemeToVuetify","loadTheme","response","error","toggleTheme","setTheme","mode","updateThemeColors","colors"],"mappings":"uDA0BaA,EAAgBC,EAAAA,YAAY,QAAS,IAAM,CACtD,MAAMC,EAAcC,EAAAA,IAAwB,IAAI,EAC1CC,EAASD,EAAAA,IAAI,EAAK,EAClBE,EAAYF,EAAAA,IAAI,EAAI,EAEpBG,EAAcC,EAAAA,SAAS,IAAOH,EAAO,MAAQ,OAAS,OAAQ,EAC9DI,EAAcD,EAAAA,SAClB,IAAML,EAAY,OAAO,KAAKI,EAAY,KAAK,GAAK,EAAA,EAEhDG,EAAgBF,EAAAA,SACpB,IAAML,EAAY,OAAO,OAAOI,EAAY,KAAK,GAAK,CAAA,CAAC,EAEnDI,EAAUH,EAAAA,SACd,IAAML,EAAY,OAAO,cAAc,SAAW,WAAA,EAGpD,SAASS,GAA2B,CAClC,MAAMC,EAAa,aAAa,QAAQ,WAAW,EACnDR,EAAO,MAAQQ,IAAe,MAChC,CAEA,SAASC,GAAsB,CAC7B,GAAI,CAACX,EAAY,MAAO,OAEX,SAAS,gBACjB,aAAa,aAAcI,EAAY,KAAK,EAEjD,OAAO,cACL,IAAI,YAAY,gBAAiB,CAC/B,OAAQ,CACN,KAAMA,EAAY,MAClB,OAAQG,EAAc,KAAA,CACxB,CACD,CAAA,CAEL,CAEA,eAAeK,GAAY,CACzB,GAAI,CACFT,EAAU,MAAQ,GAClB,MAAMU,EAAW,MAAM,MAAM,aAAa,EAC1C,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,oCAAoC,EAEtDb,EAAY,MAAQ,MAAMa,EAAS,KAAA,EAEnCJ,EAAA,EACAE,EAAA,CACF,OAASG,EAAO,CACd,QAAQ,MAAM,uBAAwBA,CAAK,CAC7C,QAAA,CACEX,EAAU,MAAQ,EACpB,CACF,CAEA,SAASY,GAAc,CACrBb,EAAO,MAAQ,CAACA,EAAO,MACvB,aAAa,QAAQ,YAAaE,EAAY,KAAK,EACnDO,EAAA,CACF,CAEA,SAASK,EAASC,EAAwB,CACxCf,EAAO,MAAQe,IAAS,OACxB,aAAa,QAAQ,YAAaA,CAAI,EACtCN,EAAA,CACF,CAEA,SAASO,EAAkBC,EAAgC,CACpDnB,EAAY,QAEjBA,EAAY,MAAM,OAAOI,EAAY,KAAK,EAAI,CAC5C,GAAGJ,EAAY,MAAM,OAAOI,EAAY,KAAK,EAC7C,GAAGe,CAAA,EAELR,EAAA,EACF,CAEA,MAAO,CACL,YAAAX,EACA,OAAAE,EACA,UAAAC,EACA,YAAAC,EACA,YAAAE,EACA,cAAAC,EACA,QAAAC,EACA,UAAAI,EACA,YAAAG,EACA,SAAAC,EACA,kBAAAE,CAAA,CAEJ,CAAC"}