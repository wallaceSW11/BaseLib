"use strict";const s=require("axios"),r=require("./confirm-0rkVKMG9.js"),t=s.create({baseURL:"/api",timeout:3e4,headers:{"Content-Type":"application/json"}});function a(e){const o=localStorage.getItem("auth_token");return o&&e.headers&&(e.headers.Authorization=`Bearer ${o}`),e}function i(e){e.method!=="get"&&r.loading(!0,"Processing...")}t.interceptors.request.use(e=>(a(e),i(e),e),e=>(r.loading(!1),Promise.reject(e)));function u(){r.notify("error","Unauthorized","Please log in again"),localStorage.removeItem("auth_token"),window.location.href="/login"}function c(e){if(!e.response){e.request?r.notify("error","Network Error","Unable to connect to the server"):r.notify("error","Error",e.message);return}const o=e.response.status,n=e.response.data?.message||"An error occurred";switch(o){case 401:u();break;case 403:r.notify("error","Forbidden","You do not have permission to perform this action");break;case 404:r.notify("error","Not Found","The requested resource was not found");break;case 500:r.notify("error","Server Error","Internal server error. Please try again later.");break;default:r.notify("error","Error",n)}}t.interceptors.response.use(e=>(r.loading(!1),e),e=>(r.loading(!1),c(e),Promise.reject(e)));exports.api=t;
//# sourceMappingURL=api-Bdv4qKPY.js.map
