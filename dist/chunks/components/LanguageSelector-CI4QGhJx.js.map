{"version":3,"file":"LanguageSelector-CI4QGhJx.js","sources":["../../../src/components/LanguageSelector.vue"],"sourcesContent":["<template>\r\n  <v-menu>\r\n    <template v-slot:activator=\"{ props }\">\r\n      <v-btn v-bind=\"props\" variant=\"text\" icon>\r\n        <span v-if=\"currentFlag\" class=\"lang-flag\" :aria-label=\"currentLocaleName\">{{ currentFlag }}</span>\r\n        <v-icon v-else>mdi-earth</v-icon>\r\n      </v-btn>\r\n    </template>\r\n    <v-list>\r\n      <v-list-item v-for=\"loc in locales\" :key=\"loc.code\" :active=\"locale === loc.code\" @click=\"setLocale(loc.code)\">\r\n        <template v-slot:prepend>\r\n          <span class=\"lang-flag lang-flag--list\" :aria-label=\"loc.name\">{{ getFlagEmoji(loc.countryCode) }}</span>\r\n        </template>\r\n        <v-list-item-title>{{ loc.name }}</v-list-item-title>\r\n      </v-list-item>\r\n    </v-list>\r\n  </v-menu>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport { useLocale } from '../composables/useLocale'\r\nimport type { LocaleOption } from '../locales'\r\n\r\ninterface Props {\r\n  availableLocales?: readonly LocaleOption[]\r\n}\r\n\r\nconst props = defineProps<Props>()\r\n\r\nconst { locale, locales, setLocale } = useLocale(props.availableLocales)\r\n\r\nconst currentLocaleData = computed(() => {\r\n  return locales.find((l: { code: string }) => l.code === locale.value) || locales[0]\r\n})\r\n\r\nconst currentLocaleName = computed(() => currentLocaleData.value.name)\r\n\r\nconst currentFlag = computed(() => getFlagEmoji(currentLocaleData.value.countryCode))\r\n\r\n// Converte código de país ISO 3166-1 alpha-2 em emoji de bandeira\r\n// Funciona em todos os browsers modernos sem nenhuma dependência\r\nfunction getFlagEmoji(countryCode: string): string {\r\n  return countryCode\r\n    .toUpperCase()\r\n    .split('')\r\n    .map(char => String.fromCodePoint(0x1F1E6 - 65 + char.charCodeAt(0)))\r\n    .join('')\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.lang-flag {\r\n  font-size: 20px;\r\n  line-height: 1;\r\n}\r\n\r\n.lang-flag--list {\r\n  margin-right: 12px;\r\n}\r\n</style>\r\n"],"names":["props","__props","locale","locales","setLocale","useLocale","currentLocaleData","computed","l","currentLocaleName","currentFlag","getFlagEmoji","countryCode","char","_createBlock","_component_v_menu","_withCtx","_createVNode","_component_v_btn","_mergeProps","_createElementBlock","_hoisted_1","_component_v_icon","_cache","_component_v_list","_Fragment","_renderList","_unref","loc","_component_v_list_item","$event","_createElementVNode","_hoisted_2","_component_v_list_item_title","_createTextVNode","_toDisplayString"],"mappings":";;;;;;;;;;;;;AA4BA,UAAMA,IAAQC,GAER,EAAE,QAAAC,GAAQ,SAAAC,GAAS,WAAAC,MAAcC,EAAUL,EAAM,gBAAgB,GAEjEM,IAAoBC,EAAS,MAC1BJ,EAAQ,KAAK,CAACK,MAAwBA,EAAE,SAASN,EAAO,KAAK,KAAKC,EAAQ,CAAC,CACnF,GAEKM,IAAoBF,EAAS,MAAMD,EAAkB,MAAM,IAAI,GAE/DI,IAAcH,EAAS,MAAMI,EAAaL,EAAkB,MAAM,WAAW,CAAC;AAIpF,aAASK,EAAaC,GAA6B;AACjD,aAAOA,EACJ,YAAA,EACA,MAAM,EAAE,EACR,IAAI,CAAAC,MAAQ,OAAO,cAAc,SAAeA,EAAK,WAAW,CAAC,CAAC,CAAC,EACnE,KAAK,EAAE;AAAA,IACZ;;;kBA/CEC,EAeSC,GAAA,MAAA;AAAA,QAdU,WAASC,EACxB,CAGQ,EAJoB,OAAAhB,QAAK;AAAA,UACjCiB,EAGQC,GAHRC,EAGQnB,GAHY;AAAA,YAAE,SAAQ;AAAA,YAAO,MAAA;AAAA,UAAA;uBACnC,MAAmG;AAAA,cAAvFU,EAAA,cAAZU,EAAmG,QAAA;AAAA;gBAA1E,OAAM;AAAA,gBAAa,cAAYX,EAAA;AAAA,cAAA,KAAsBC,EAAA,KAAW,GAAA,GAAAW,CAAA,WACzFP,EAAiCQ,GAAA,EAAA,KAAA,KAAA;AAAA,2BAAlB,MAAS,CAAA,GAAAC,EAAA,CAAA,MAAAA,EAAA,CAAA,IAAA;AAAA,oBAAT,aAAS,EAAA;AAAA,gBAAA;;;;;;;mBAG5B,MAOS;AAAA,UAPTN,EAOSO,GAAA,MAAA;AAAA,uBANM,MAAsB;AAAA,sBAAnCJ,EAKcK,GAAA,MAAAC,EALaC,EAAAxB,CAAA,GAAO,CAAdyB,YAApBd,EAKce,GAAA;AAAA,gBALuB,KAAKD,EAAI;AAAA,gBAAO,QAAQD,EAAAzB,CAAA,MAAW0B,EAAI;AAAA,gBAAO,SAAK,CAAAE,MAAEH,EAAAvB,CAAA,EAAUwB,EAAI,IAAI;AAAA,cAAA;gBACzF,WACf,MAAyG;AAAA,kBAAzGG,EAAyG,QAAA;AAAA,oBAAnG,OAAM;AAAA,oBAA6B,cAAYH,EAAI;AAAA,kBAAA,KAASjB,EAAaiB,EAAI,WAAW,CAAA,GAAA,GAAAI,CAAA;AAAA,gBAAA;2BAEhG,MAAqD;AAAA,kBAArDf,EAAqDgB,GAAA,MAAA;AAAA,+BAAlC,MAAc;AAAA,sBAAXC,EAAAC,EAAAP,EAAI,IAAI,GAAA,CAAA;AAAA,oBAAA;;;;;;;;;;;;;;;"}